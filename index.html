<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" />
<title>Carta para ti üíå</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<style>
  body{
    margin:0; height:100vh; display:grid; place-items:center;
    font-family: Georgia, "Times New Roman", serif;
    background:#f3e2c2; overflow:hidden;
  }
  .envelope{
    position:relative; width:340px; height:220px; cursor:pointer;
    background: linear-gradient(#e5caa2,#d8b587);
    border:2px solid #b08968; border-radius:8px;
    box-shadow:0 10px 30px rgba(0,0,0,.25), inset 0 0 25px rgba(0,0,0,.15);
  }
  .envelope .flap{
    position:absolute; inset:0;
    background: linear-gradient(#d7b68d,#c7a273);
    clip-path:polygon(0 0, 50% 55%, 100% 0, 100% 0, 0 0);
    transform-origin:top;
    transition:transform .9s ease;
  }
  .envelope.open .flap{ transform:rotateX(180deg); }
  .seal{
    position:absolute; left:50%; top:52%; transform:translate(-50%,-50%);
    width:58px; height:58px; border-radius:50%;
    background: radial-gradient(circle at 30% 30%, #f99, #b21 60%, #7a0);
    box-shadow: inset 0 2px 8px rgba(0,0,0,.25);
  }

  .letter{
    position:fixed; inset:0; display:none; overflow-y:auto;
    padding: clamp(28px, 6vw, 72px);
    line-height:1.9; font-size:clamp(18px, 2.2vw, 22px);
    background: url('fondo.jpg') center/cover no-repeat;
    color:#3e2723;
    box-shadow: inset 0 0 80px rgba(0,0,0,.25), 0 10px 40px rgba(0,0,0,.35);
  }
  h2{ text-align:center; color:#8b0000; margin-top:0; }

  .page{ display:none; animation: fadeIn .6s ease both; }
  .page.active{ display:block; }

  .controls{ display:flex; justify-content:center; margin-top:28px; }
  .btn{
    border:none; cursor:pointer; padding:10px 18px;
    font-size:16px; border-radius:8px; color:#fff;
    background:#8b0000; box-shadow:0 6px 14px rgba(0,0,0,.25);
  }
  .btn:hover{ background:#a31212; }

  @keyframes fadeIn{ from{opacity:0} to{opacity:1} }

  .foto {
    display:block; margin:25px auto 0;
    max-width:180px; border-radius:12px;
    box-shadow:0 4px 10px rgba(0,0,0,.25);
  }

  .heart {
    position: fixed; bottom: 0; font-size: 24px; color: red;
    animation: floatUp 4s linear forwards;
  }
  @keyframes floatUp {
    from { transform: translateY(0) scale(1); opacity:1; }
    to { transform: translateY(-100vh) scale(1.8); opacity:0; }
  }

  .loveText {
    position: absolute;
    font-size: 1.5em;
    color: #ff4d6d;
    font-weight: bold;
    animation: floatUp 3s forwards;
    pointer-events: none;
  }
</style>
</head>
<body>

  <!-- SOBRE -->
  <div class="envelope" id="envelope" title="√Åbreme">
    <div class="flap"></div>
    <div class="seal"></div>
  </div>

  <!-- CARTA -->
  <main class="letter" id="letter">
    <h2>Mi amor üíñ</h2>

    <!-- CONFESI√ìN NUEVA (8 p√°ginas con fotos) -->
    <section class="page active">
      <p>Desde que llegaste a mi vida algo dentro de m√≠ despert√≥, Sent√≠ que el mundo era m√°s hermoso, que cada d√≠a ten√≠a un nuevo motivo y que mi coraz√≥n, sin darse cuenta, empez√≥ a latir con tu nombre, y fue entonces cuando supe que mi mundo nunca volver√≠a a ser el mismo.</p>
      <img src="foto1.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p>No fuiste una casualidad, fuiste el milagro m√°s hermoso que el destino me regal√≥, trajiste claridad donde hab√≠a dudas, esperanza donde hab√≠a vac√≠o y amor donde antes solo hab√≠a silencio, contigo aprend√≠ que el amor verdadero no se busca... simplemente llega, transforma y florece en lo m√°s profundo del coraz√≥n.</p>
      <img src="foto2.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p>A veces me quedo sin palabras cuando pienso en lo mucho que significas para m√≠, Intento buscar la manera de describir lo que siento, pero ninguna palabra parece alcanzar, y aun as√≠, dentro de m√≠ hay una verdad imposible de ocultar, eres lo mejor que me ha pasado en la vida.</p>
      <img src="foto3.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p>No necesito adornar lo que siento, porque lo que llevo dentro es real, fuerte y eterno, y aunque me falten las palabras, lo que siento por ti se explica solo, eres la persona que cambi√≥ mi manera de ver el mundo, la que le dio sentido a mis d√≠as y calma a mis noches.</p>
      <img src="foto4.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p>Desde que llegaste, todo lo que parec√≠a com√∫n se volvi√≥ extraordinario, ¬øsabes por qu√©? porque lo comparto contigo, Cada momento  contigo es m√°gico, me vuelves loco, me enamoras, me encantas, me facinas, amo todo de ti, amo tus ojitos, tu voz, tu manera de hablar, esa luz que ilumina mi vida! En ti encontr√© lo que nunca pens√© encontrar, un amor sincero, √∫nico y profundo.</p>
      <img src="foto5.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p>No necesito a nadie m√°s porque contigo lo tengo todo, eres mi √∫nica prioridad, lo que m√°s deseo y lo m√°s valioso que tengo en esta vida, mi coraz√≥n late con fuerza solo por ti, y cada d√≠a me despierto con la certeza de que quiero ser mejor para ti, porque tu te mereces absolutamente todo.</p>
      <img src="foto6.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p>A tu lado he aprendido lo que es el amor de verdad, ese que no se mide en momentos perfectos, sino en la certeza de que incluso en los momentos dif√≠ciles estamos juntos, am√°ndonos, apoy√°ndonos, eres mi presente, mi futuro y mi m√°s grande sue√±o, no me imagino un camino donde no est√©s t√∫, porque simplemente eres lo m√°s bonito que la vida me ha regalado.</p>
      <p>Quiero que sepas que te amo con todo lo que soy, que cada pensamiento m√≠o termina en ti, que cada ilusi√≥n y cada plan lleva tu nombre, no hay distancia, ni tiempo, ni nada en este mundo capaz de hacerme dejar de sentir lo que siento, porque lo que siento por ti es amor de verdad, de ese que no se apaga, de ese que crece cada d√≠a, de ese que est√° hecho para durar siempre.</p>
      <img src="foto7.jpg" class="foto">
      <div class="controls"><button class="btn next">Siguiente ‚ûù</button></div>
    </section>
    <section class="page">
      <p style="text-align:center; font-size:1.25em; color:#6d1a1a; font-weight:bold;">
      Y hoy, sin miedo ni dudas, quiero decirte algo que llevo tiempo guardando con ilusi√≥n:<br><br>
      Eres la mujer de mi vida, mi √∫nico deseo, mi refugio y mi raz√≥n de seguir adelante, Siempre voy a elegirte a ti, porque t√∫ eres, y siempre ser√°s, mi todo.<br><br>
      Por eso, despu√©s de abrirte mi coraz√≥n y mostrarte lo que realmente siento, quiero pedirte algo especial:<br><br>
      ¬øMe regalas ese honor?<br><br>
      El honor de ser tu novio, porque no hay mayor felicidad para m√≠ que amarte y ser amado por ti.
      </p>
      <img src="foto8.jpg" class="foto">
      <div class="controls">
        <button class="btn choice">S√≠ ‚ù§Ô∏è</button>
        <button class="btn choice">¬°S√≠, claro que s√≠! üíç</button>
      </div>
    </section>
  </main>

  <!-- M√öSICA -->
  <audio id="musicInicio" src="inicio.mp3" loop></audio>
  <audio id="musicFinal" src="final.mp3"></audio>

<!-- GALER√çA FINAL -->
<div id="gallery" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#000; z-index:9999; justify-content:center; align-items:center; flex-direction:column;">
  <img id="galleryImage" src="" alt="Imagen rom√°ntica" style="max-width:90%; max-height:80%; border-radius:20px; box-shadow:0 0 30px rgba(255,255,255,0.5); animation: fadeIn 1s;">
  <button id="nextBtn" style="margin-top:20px; padding:12px 24px; background:#ff4d6d; color:#fff; font-size:18px; border:none; border-radius:12px; cursor:pointer;">Siguiente</button>
</div>

<script>
  const envelope = document.getElementById('envelope');
  const letter   = document.getElementById('letter');
  const pages    = [...document.querySelectorAll('.page')];
  const musicInicio = document.getElementById('musicInicio');
  const musicFinal  = document.getElementById('musicFinal');
  let idx = 0;

  envelope.addEventListener('click', ()=>{
    envelope.classList.add('open');
    setTimeout(()=>{
      envelope.style.display='none';
      letter.style.display='block';
      letter.scrollTo({top:0});
      musicInicio.play();
    }, 950);
  });

  letter.addEventListener('click', (e)=>{
    if(e.target.classList.contains('next')){
      pages[idx].classList.remove('active');
      idx = Math.min(idx+1, pages.length-1);
      pages[idx].classList.add('active');
      letter.scrollTo({top:0, behavior:'smooth'});
    }
    if(e.target.classList.contains('choice')){
      musicInicio.pause(); musicInicio.currentTime = 0;
      musicFinal.play();
      setTimeout(()=>startGallery(), 500);
    }
  });

  // Galer√≠a de 4 im√°genes (foto1, foto2, foto10, foto11)
  const images = ["foto1.jpg","foto2.jpg","foto10.jpg","foto11.jpg"];
  let currentIndex = 0;
  const gallery = document.getElementById("gallery");
  const galleryImage = document.getElementById("galleryImage");
  const nextBtn = document.getElementById("nextBtn");

  function startGallery() {
    currentIndex = 0;
    gallery.style.display = "flex";
    galleryImage.src = images[currentIndex];
  }

  nextBtn.addEventListener("click", () => {
    currentIndex++;
    if (currentIndex < images.length) {
      galleryImage.src = images[currentIndex];
      galleryImage.style.animation = "none";
      setTimeout(() => galleryImage.style.animation = "fadeIn 1s", 10);

      // Solo activar clicks en la √∫ltima imagen (foto11.jpg)
      if(images[currentIndex] === "foto11.jpg"){
        gallery.addEventListener("click", showLoveText);
      }
    } else {
      gallery.style.display = "none";
    }
  });

  function showLoveText(e){
    if(images[currentIndex] === "foto11.jpg"){
      const love = document.createElement("div");
      love.className = "loveText";
      love.innerText = "Te amo Noemi ‚ù§Ô∏è";
      love.style.left = (e.clientX-40)+"px";
      love.style.top = (e.clientY-20)+"px";
      gallery.appendChild(love);
      setTimeout(()=>love.remove(), 3000);

      const heart = document.createElement("div");
      heart.className = "heart";
      heart.innerText = "‚ù§Ô∏è";
      heart.style.left = e.clientX + "px";
      heart.style.top = e.clientY + "px";
      gallery.appendChild(heart);
      setTimeout(()=>heart.remove(),4000);
    }
  }
</script>
</body>
</html>
